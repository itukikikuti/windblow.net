---
layout: post
title: for文
---
まずこのコードを書いてください。
``` C++
#include "XLibrary11.hpp"
using namespace XLibrary11;

int MAIN()
{
    Camera camera;
    
    Sprite sprite(L"temp.png");
    
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.Draw();
    }
    
    return 0;
}
```

このコードを実行すると画像が１つ描画されます。
では、２つ描画したいときはどうすればいいでしょうか。
```C++
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.position = Float3(-1.0f, 0.0f, 0.0f);
        sprite.Draw();
        
        sprite.position = Float3(1.0f, 0.0f, 0.0f);
        sprite.Draw();
    }
```

まあ素直にコーディングするとこうなりますよね。
では、座標をランダムにしてみましょう。
ちなみに、毎フレーム座標が変わるのはだめです。
```C++
    Float3 position0(rand() % 100, rand() % 100, 0.0f);
    Float3 position1(rand() % 100, rand() % 100, 0.0f);
    
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.position = position0;
        sprite.Draw();
        
        sprite.position = position1;
        sprite.Draw();
    }
```

こうなりますよね。
では、画像を１０個出してみてください。
```C++
    Float3 position0(rand() % 100, rand() % 100, 0.0f);
    Float3 position1(rand() % 100, rand() % 100, 0.0f);
    Float3 position2(rand() % 100, rand() % 100, 0.0f);
    Float3 position3(rand() % 100, rand() % 100, 0.0f);
    Float3 position4(rand() % 100, rand() % 100, 0.0f);
    Float3 position5(rand() % 100, rand() % 100, 0.0f);
    Float3 position6(rand() % 100, rand() % 100, 0.0f);
    Float3 position7(rand() % 100, rand() % 100, 0.0f);
    Float3 position8(rand() % 100, rand() % 100, 0.0f);
    Float3 position9(rand() % 100, rand() % 100, 0.0f);
    
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.position = position0;
        sprite.Draw();
        
        sprite.position = position1;
        sprite.Draw();
        
        sprite.position = position2;
        sprite.Draw();
        
        sprite.position = position3;
        sprite.Draw();
        
        sprite.position = position4;
        sprite.Draw();
        
        sprite.position = position5;
        sprite.Draw();
        
        sprite.position = position6;
        sprite.Draw();
        
        sprite.position = position7;
        sprite.Draw();
        
        sprite.position = position8;
        sprite.Draw();
        
        sprite.position = position9;
        sprite.Draw();
    }
```

こうなっちゃいますよね。
じゃあ、画像を１００個出してくださいって言われたら
こんな調子でやってたらコードがとんでもなく長くなってしまいますよね。

これを解決するのがfor文です。
ではまず、コードをこのように修正してください。
```C++
    Float3 position[10];
    
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.position = position[0];
        sprite.Draw();
        
        sprite.position = position[1];
        sprite.Draw();
        
        sprite.position = position[2];
        sprite.Draw();
        
        sprite.position = position[3];
        sprite.Draw();
        
        sprite.position = position[4];
        sprite.Draw();
        
        sprite.position = position[5];
        sprite.Draw();
        
        sprite.position = position[6];
        sprite.Draw();
        
        sprite.position = position[7];
        sprite.Draw();
        
        sprite.position = position[8];
        sprite.Draw();
        
        sprite.position = position[9];
        sprite.Draw();
    }
```

コードが少し短くなりましたね。
`Float3 position[10]`というのは配列変数というものです。
要は１行でpositionという変数を１０個用意出来る便利なものです。
使うときは`position`の後に`[数字]`というのを付けると普通の変数のように使えます。
数字は例えば１０個用意したら、０から９を指定すればいいです。
でも、今のままではランダムになってないので修正します。
```C++
    Float3 position[10];
    
    for (int i = 0; i < 10; i++)
    {
        position[i] = Float3(rand() % 100, rand() % 100, 0.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        sprite.position = position[0];
        sprite.Draw();
        
        sprite.position = position[1];
        sprite.Draw();
        
        sprite.position = position[2];
        sprite.Draw();
        
        sprite.position = position[3];
        sprite.Draw();
        
        sprite.position = position[4];
        sprite.Draw();
        
        sprite.position = position[5];
        sprite.Draw();
        
        sprite.position = position[6];
        sprite.Draw();
        
        sprite.position = position[7];
        sprite.Draw();
        
        sprite.position = position[8];
        sprite.Draw();
        
        sprite.position = position[9];
        sprite.Draw();
    }
```

このようにfor文というものを使うと
配列変数に一気に値を代入したりできます。
ではもっと短くしてみましょう。
```C++
    Float3 position[10];
    
    for (int i = 0; i < 10; i++)
    {
        position[i] = Float3(rand() % 100, rand() % 100, 0.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        for (int i = 0; i < 10; i++)
        {
            sprite.position = position[i];
            sprite.Draw();
        }
    }
```

すごくスッキリしましたね。
配列とfor文はこういう感じで使います。

ではノシ
