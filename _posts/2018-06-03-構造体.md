---
layout: post
title: 構造体
---
前回の続きからです。
```C++
#include "XLibrary11.hpp"
using namespace XLibrary11;

int MAIN()
{
    Camera camera;
    
    Sprite sprite(L"temp.png");
    
    Float3 position[10];
    
    for (int i = 0; i < 10; i++)
    {
        position[i] = Float3(rand() % 100, rand() % 100, 0.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        for (int i = 0; i < 10; i++)
        {
            sprite.position = position[i];
            sprite.Draw();
        }
    }
    
    return 0;
}
```

このコードを実行すると画像が１０個ランダムな座標に描画されます。
では、画像を動かしたいときはどうしますか？
```C++
        for (int i = 0; i < 10; i++)
        {
            position[i].x += 1.0f;
            sprite.position = position[i];
            sprite.Draw();
        }
}
```

まあこれでも動きますけど、ばらばらに動かしたかったらどうしますか？
```C++
    Float3 position[10];
    Float3 velocity[10];
    
    for (int i = 0; i < 10; i++)
    {
        position[i] = Float3(rand() % 100, rand() % 100, 0.0f);
        velocity[i] = Float3((rand() % 200 - 100) / 100.0f, (rand() % 200 - 100) / 100.0f, 0.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        for (int i = 0; i < 10; i++)
        {
            position[i] += velocity[i];
            sprite.position = position[i];
            sprite.Draw();
        }
    }
```

これで別々に動きますね。
じゃあ、色もそれぞれ設定しましょう。
```C++
    Float3 position[10];
    Float3 velocity[10];
    Float4 color[10];
    
    for (int i = 0; i < 10; i++)
    {
        position[i] = Float3(rand() % 100, rand() % 100, 0.0f);
        velocity[i] = Float3(rand() % 200 - 100 / 100.0f, rand() % 200 - 100 / 100.0f, 0.0f);
        color[i] = Float4(rand() / (float)RAND_MAX, rand() / (float)RAND_MAX, rand() / (float)RAND_MAX, 1.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        for (int i = 0; i < 10; i++)
        {
            position[i] += velocity[i];
            sprite.position = position[i];
            sprite.color = color[i];
            sprite.Draw();
        }
    }
```

こんな感じで出来ますね。
でもちょっと、この辺がごちゃっとしてきましたね。
```C++
    Float3 position[10];
    Float3 velocity[10];
    Float4 color[10];
```

こんな感じにするとスッキリします。
```C++
struct Parameter
{
    Float3 position;
    Float3 velocity;
    Float4 color;
};

int MAIN()
{
    Camera camera;
    
    Sprite sprite(L"temp.png");
    
    Parameter parameter[10];
    
    for (int i = 0; i < 10; i++)
    {
        parameter[i].position = Float3(rand() % 100, rand() % 100, 0.0f);
        parameter[i].velocity = Float3(rand() % 200 - 100 / 100.0f, rand() % 200 - 100 / 100.0f, 0.0f);
        parameter[i].color = Float4(rand() / (float)RAND_MAX, rand() / (float)RAND_MAX, rand() / (float)RAND_MAX, 1.0f);
    }
    
    while (App::Refresh())
    {
        camera.Update();
        
        for (int i = 0; i < 10; i++)
        {
            parameter[i].position += parameter[i].velocity;
            sprite.position = parameter[i].position;
            sprite.color = parameter[i].color;
            sprite.Draw();
        }
    }
    
    return 0;
}
```

この`struct`というのが構造体です。
変数をまとめることができます。

では。
