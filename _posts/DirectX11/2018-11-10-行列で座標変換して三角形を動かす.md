---
layout: post
title: 行列で座標変換して三角形を動かす
category: DirectX11
date: 2018-11-10 00:00:00
---

次は三角形を動かしてみましょう。どうすれば動かせると思いますか？頂点を動かせば動きます。

``` cpp
    DirectX::XMFLOAT3 position;

    std::vector<Vertex> vertices;
    vertices.push_back(Vertex(DirectX::XMFLOAT3(position.x, position.y + 1.0f, position.z), DirectX::XMFLOAT3(1.0f, 1.0f, 0.0f)));
    vertices.push_back(Vertex(DirectX::XMFLOAT3(position.x + 1.0f, position.y - 1.0f, position.z), DirectX::XMFLOAT3(0.0f, 1.0f, 1.0f)));
    vertices.push_back(Vertex(DirectX::XMFLOAT3(position.x - 1.0f, position.y - 1.0f, position.z), DirectX::XMFLOAT3(1.0f, 0.0f, 1.0f)));
```

さっき使った3つ頂点の座標に`position`という変数を足してみました。こうすれば`position`を動かせば三角形が移動しますよね。でもこのやり方は問題だらけです。動かすたびに頂点バッファを作り直さないといけないので動作が重くなったり、回転や拡大縮小もしようとすると面倒くさいです。なので他のやり方にします。行列というものを使います。行列というのはお店の前にできる方じゃなくて、数学の方です。私は数学は中学の連立方程式までしかわからないので、詳しい説明は出来ませんが、行列を使うと座標変換が出来ます。「アフィン変換」でググってみてください。これと同じようなことをやればどういう原理か知りませんが、移動、回転、拡縮が簡単にできるみたいです。

``` cpp
```
